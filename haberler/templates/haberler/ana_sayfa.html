{% extends 'haberler/base.html' %}

{% block title %}Ana Sayfa - Özbel Haber{% endblock %}

{% block content %}
<!-- Yan reklamlar -->
{% include 'haberler/includes/ads.html' with position="left_sidebar" %}
{% include 'haberler/includes/ads.html' with position="right_sidebar" %}

<div class="container mt-4">
    <!-- Üst Reklam Alanı -->
    {% include 'haberler/includes/ads.html' with position="top" %}

    <!-- Son Dakika Haber Bandı -->
    <div class="breaking-news-container mb-4 son-dakika-container">
        <div class="alert-border"></div>
        <div class="breaking-news-header">
            <div class="d-flex align-items-center">
                <div class="breaking-news-title-container me-3">
                    <span class="breaking-news-title">SON DAKİKA</span>
                    <div class="flash-icon">
                        <i class="bi bi-lightning-fill"></i>
                    </div>
                </div>
                <span class="current-time me-3" id="currentTime"></span>

                <!-- Mobil görünümde ekonomik bilgileri açmak için buton -->
                {% if financial_data %}
                <button class="ekonomik-toggle-btn d-md-none" type="button" data-bs-toggle="collapse"
                    data-bs-target="#ekonomikBilgilerCollapse" aria-expanded="false"
                    aria-controls="ekonomikBilgilerCollapse">
                    <i class="bi bi-currency-exchange"></i>
                    <span class="ms-1">Döviz & Hava</span>
                </button>
                {% endif %}
            </div>
            {% if financial_data %}
            <!-- Mobil görünümde gizlenecek ve açılabilir olacak ekonomik bilgiler -->
            <div class="d-md-flex d-none align-items-center ekonomik-bilgiler">
                <div class="ekonomik-item">
                    <span class="currency-label">USD:</span>
                    <span class="currency-value">{{ financial_data.usd }}₺</span>
                </div>
                <div class="ekonomik-item">
                    <span class="currency-label">EUR:</span>
                    <span class="currency-value">{{ financial_data.eur }}₺</span>
                </div>
                <div class="ekonomik-item">
                    <span class="currency-label">GBP:</span>
                    <span class="currency-value">{{ financial_data.gbp }}₺</span>
                </div>
                <div class="ekonomik-item">
                    <span class="currency-label">ALTIN:</span>
                    <span class="currency-value">{{ financial_data.gold }}₺</span>
                </div>
                <div class="ekonomik-item">
                    <span class="currency-label">BIST:</span>
                    <span class="currency-value">{{ financial_data.bist }}</span>
                </div>
                <div id="weatherInfo" class="ekonomik-item">
                    <!-- Hava durumu bilgileri buraya dinamik olarak eklenecek -->
                </div>
            </div>

            <!-- Mobil görünümde açılabilir ekonomik bilgiler -->
            <div class="collapse mt-2 mb-0" id="ekonomikBilgilerCollapse">
                <div class="ekonomik-bilgiler-mobile">
                    <div class="ekonomik-item">
                        <span class="currency-label">USD:</span>
                        <span class="currency-value">{{ financial_data.usd }}₺</span>
                    </div>
                    <div class="ekonomik-item">
                        <span class="currency-label">EUR:</span>
                        <span class="currency-value">{{ financial_data.eur }}₺</span>
                    </div>
                    <div class="ekonomik-item">
                        <span class="currency-label">GBP:</span>
                        <span class="currency-value">{{ financial_data.gbp }}₺</span>
                    </div>
                    <div class="ekonomik-item">
                        <span class="currency-label">ALTIN:</span>
                        <span class="currency-value">{{ financial_data.gold }}₺</span>
                    </div>
                    <div class="ekonomik-item">
                        <span class="currency-label">BIST:</span>
                        <span class="currency-value">{{ financial_data.bist }}</span>
                    </div>
                    <div id="weatherInfoMobile" class="ekonomik-item">
                        <!-- Hava durumu bilgileri buraya dinamik olarak eklenecek (mobil) -->
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
        <div class="breaking-news-wrapper">
            <div class="breaking-news-ticker" id="breakingNewsTicker">
                {% for haber in son_dakika_haberler %}
                <div class="ticker-item">
                    <span class="son-dakika-badge">SON DAKİKA</span>
                    <span class="ticker-time">{{ haber.yayin_tarihi|time:"H:i" }}</span>
                    <a href="{% url 'haber_detay' haber_slug=haber.slug %}" class="ticker-link">
                        {{ haber.baslik }}
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Manşet ve Yan Haberler Bölümü (Eski Son Gelişmeler) -->
    <div class="row mb-4">
        <div class="col-12 mb-3">
            <div class="section-baslik">
                <h3 class="manset-title" style="color: #011e5a;">
                    <i class="bi bi-lightning-charge-fill me-2"></i>
                    <div class="letter-wave-text">
                        <span class="wave-letter">S</span>
                        <span class="wave-letter">O</span>
                        <span class="wave-letter">N</span>
                        <span class="wave-letter">&nbsp;</span>
                        <span class="wave-letter">G</span>
                        <span class="wave-letter">E</span>
                        <span class="wave-letter">L</span>
                        <span class="wave-letter">İ</span>
                        <span class="wave-letter">Ş</span>
                        <span class="wave-letter">M</span>
                        <span class="wave-letter">E</span>
                        <span class="wave-letter">L</span>
                        <span class="wave-letter">E</span>
                        <span class="wave-letter">R</span>
                    </div>
                </h3>
                <div class="section-baslik-divider"></div>
            </div>
        </div>
        <!-- Sol Taraf - Haber Listesi (Mobilde gizlenecek) -->
        <div class="col-md-3 d-none d-md-block">
            <div class="news-list-container">
                <div class="news-list">
                    {% for haber in haberler|slice:":10" %}
                    <div class="news-list-item {% if forloop.first %}active{% endif %}"
                        data-index="{{ forloop.counter0 }}">
                        <a href="{% url 'haber_detay' haber_slug=haber.slug %}" class="text-decoration-none text-dark">
                            <div class="d-flex align-items-center">
                                <div class="news-number">{{ forloop.counter }}</div>
                                <div class="news-content">
                                    <h6 class="mb-1">{{ haber.baslik }}</h6>
                                    <small class="text-muted">{{ haber.yayin_tarihi|time:"H:i" }}</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Sağ Taraf - Büyük Haber Gösterimi (Mobilde tam genişlik olacak) -->
        <div class="col-md-9 col-12">
            <div class="featured-news-slider">
                {% for haber in haberler|slice:":10" %}
                <div class="featured-news-item {% if forloop.first %}active{% endif %}"
                    id="featured-{{ forloop.counter0 }}" data-index="{{ forloop.counter0 }}">
                    <a href="{% url 'haber_detay' haber_slug=haber.slug %}" class="text-decoration-none">
                        <div class="position-relative">
                            {% if haber.resim %}
                            <img src="{{ haber.resim.url }}" class="img-fluid w-100" alt="{{ haber.baslik }}"
                                style="height: 400px; object-fit: cover;">
                            {% endif %}
                            <div class="featured-news-overlay">
                                <div class="overlay-content">
                                    <div class="d-flex flex-column h-100">
                                        <div class="mb-auto">
                                            {% if haber.kategori %}
                                            <span class="badge bg-ozbel mb-3 px-3 py-2">{{ haber.kategori.ad }}</span>
                                            {% endif %}
                                            <h2 class="featured-news-title mb-3">{{ haber.baslik }}</h2>
                                            <div class="featured-news-excerpt d-none d-md-block mb-4">
                                                {% if haber.ozet %}
                                                {{ haber.ozet|striptags|truncatewords:30 }}
                                                {% else %}
                                                {{ haber.icerik|striptags|truncatewords:30 }}
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="featured-news-meta">
                                            <div class="d-flex align-items-center gap-4">
                                                <span>
                                                    <i class="bi bi-calendar me-2"></i>
                                                    {{ haber.yayin_tarihi|date:"d F Y" }}
                                                </span>
                                                <span>
                                                    <i class="bi bi-clock me-2"></i>
                                                    {{ haber.yayin_tarihi|date:"H:i" }}
                                                </span>
                                            </div>
                                            <div class="mt-3">
                                                <span class="read-more-btn">
                                                    Devamını Oku <i class="bi bi-arrow-right ms-2"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}

                <!-- Navigasyon Butonları -->
                <div class="slider-controls">
                    <button class="nav-btn prev-btn" id="prevSlide" onclick="prevSlide(event);">
                        <i class="bi bi-chevron-left"></i>
                    </button>
                    <button class="nav-btn next-btn" id="nextSlide" onclick="nextSlide(event);">
                        <i class="bi bi-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Manşet Haberler Slider -->
    {% if manset_haberler %}
    <div class="manset-container mb-4">
        <div class="row mb-3">
            <div class="col-12">
                <div class="section-baslik">
                    <h3 class="manset-title" style="color: #011e5a;">
                        <i class="bi bi-award me-2"></i>
                        <div class="letter-wave-text">
                            <span class="wave-letter">M</span>
                            <span class="wave-letter">A</span>
                            <span class="wave-letter">N</span>
                            <span class="wave-letter">Ş</span>
                            <span class="wave-letter">E</span>
                            <span class="wave-letter">T</span>
                            <span class="wave-letter">&nbsp;</span>
                            <span class="wave-letter">H</span>
                            <span class="wave-letter">A</span>
                            <span class="wave-letter">B</span>
                            <span class="wave-letter">E</span>
                            <span class="wave-letter">R</span>
                            <span class="wave-letter">L</span>
                            <span class="wave-letter">E</span>
                            <span class="wave-letter">R</span>
                        </div>
                    </h3>
                    <div class="section-baslik-divider"></div>
                </div>
            </div>
        </div>
        <div class="manset-slider-wrapper">
            <div class="swiper-container manset-slider">
                <div class="swiper-wrapper">
                    {% for haber in manset_haberler %}
                    <div class="swiper-slide">
                        <div class="manset-card">
                            <a href="{% url 'haber_detay' haber_slug=haber.slug %}" class="manset-link">
                                <div class="manset-image-wrapper">
                                    {% if haber.resim %}
                                    <img src="{{ haber.resim.url }}" alt="{{ haber.baslik }}" class="manset-image">
                                    {% endif %}
                                    <div class="manset-kategori-badge">
                                        <span>{{ haber.kategori.ad }}</span>
                                    </div>
                                    <div class="manset-badge">
                                        <span><i class="bi bi-fire"></i> MANŞET</span>
                                    </div>
                                </div>
                                <div class="manset-content">
                                    <h3 class="manset-baslik">{{ haber.baslik }}</h3>
                                    <p class="manset-excerpt">
                                        {% if haber.ozet %}
                                        {{ haber.ozet|striptags|truncatewords:20 }}
                                        {% else %}
                                        {{ haber.icerik|striptags|truncatewords:20 }}
                                        {% endif %}
                                    </p>
                                    <div class="manset-readmore">
                                        <span>DEVAMINI OKU <i class="bi bi-arrow-right"></i></span>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next manset-button-next"></div>
                <div class="swiper-button-prev manset-button-prev"></div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- İlan Vitrini Slider -->
    {% if ilanlar %}
    <div class="ilan-vitrini-container mb-5">
        <div class="row mb-3">
            <div class="col-12">
                <div class="section-baslik">
                    <h3 class="ilan-vitrini-title">
                        <i class="bi bi-building me-2"></i>
                        <div class="letter-wave-text">
                            <span class="wave-letter">R</span>
                            <span class="wave-letter">E</span>
                            <span class="wave-letter">K</span>
                            <span class="wave-letter">L</span>
                            <span class="wave-letter">A</span>
                            <span class="wave-letter">M</span>
                            <span class="wave-letter">&nbsp;</span>
                            <span class="wave-letter">V</span>
                            <span class="wave-letter">İ</span>
                            <span class="wave-letter">T</span>
                            <span class="wave-letter">R</span>
                            <span class="wave-letter">İ</span>
                            <span class="wave-letter">N</span>
                            <span class="wave-letter">İ</span>
                        </div>
                    </h3>
                    <div class="section-baslik-divider"></div>
                </div>
            </div>
        </div>
        <div class="ilan-slider-wrapper">
            <div class="swiper-container ilan-slider">
                <div class="swiper-wrapper">
                    {% for ilan in ilanlar %}
                    <div class="swiper-slide">
                        <div class="ilan-card">
                            {% if ilan.website %}
                            <a href="{{ ilan.website }}" target="_blank" class="ilan-link">
                                {% else %}
                                <div class="ilan-link">
                                    {% endif %}
                                    <div class="ilan-image-wrapper">
                                        {% if ilan.logo %}
                                        <img src="{{ ilan.logo.url }}" alt="{{ ilan.firma_adi }}" class="ilan-image">
                                        {% else %}
                                        <div class="ilan-no-logo">
                                            <span>{{ ilan.firma_adi|slice:":1" }}</span>
                                        </div>
                                        {% endif %}
                                    </div>
                                    <div class="ilan-content">
                                        <h3 class="ilan-firma-adi">{{ ilan.firma_adi }}</h3>
                                        <p class="ilan-faaliyet">{{ ilan.faaliyet_alani }}</p>
                                        <div class="ilan-meta">
                                            <div class="ilan-adres">
                                                <i class="bi bi-geo-alt"></i>
                                                <span>{{ ilan.adres|truncatewords:6 }}</span>
                                            </div>
                                            {% if ilan.telefon %}
                                            <div class="ilan-telefon">
                                                <i class="bi bi-telephone"></i>
                                                <span>{{ ilan.telefon }}</span>
                                            </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                    {% if ilan.website %}
                            </a>
                            {% else %}
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}

                <!-- İlan Verebilirsiniz Kartı -->
                <div class="swiper-slide" style="opacity: 1 !important; visibility: visible !important;">
                    <div class="ilan-card ilan-ver-card">
                        <a href="https://wa.me/905423538726?text=Özbel%20Haber%20reklam%20vitrini%20için%20bilgi%20almak%20istiyorum."
                            target="_blank" class="ilan-link">
                            <div class="ilan-image-wrapper"
                                style="display: flex; align-items: center; justify-content: center; background-color: #25D366;">
                                <div class="ilan-no-logo"
                                    style="background-color: white; color: #25D366; transform: scale(1.5);">
                                    <i class="bi bi-whatsapp"></i>
                                </div>
                            </div>
                            <div class="ilan-content">
                                <h3 class="ilan-firma-adi" style="color: #25D366; font-weight: 700;">İşletmeniz Burada
                                    Olsun!</h3>
                                <p class="ilan-faaliyet">Özbel Haber'de işletmenizi tanıtın</p>
                                <div class="ilan-meta">
                                    <div class="ilan-adres">
                                        <i class="bi bi-whatsapp me-1" style="color: #25D366;"></i>
                                        <span>Hemen iletişime geçin</span>
                                    </div>
                                    <div class="ilan-telefon">
                                        <i class="bi bi-telephone me-1"></i>
                                        <span>0542 353 8726</span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>
</div>
{% else %}
<div class="ilan-vitrini-empty mb-5">
    <div class="row mb-3">
        <div class="col-12">
            <div class="section-baslik">
                <h3 class="ilan-vitrini-title">
                    <i class="bi bi-building me-2"></i>
                    <div class="letter-wave-text">
                        <span class="wave-letter">İ</span>
                        <span class="wave-letter">L</span>
                        <span class="wave-letter">A</span>
                        <span class="wave-letter">N</span>
                        <span class="wave-letter">&nbsp;</span>
                        <span class="wave-letter">V</span>
                        <span class="wave-letter">İ</span>
                        <span class="wave-letter">T</span>
                        <span class="wave-letter">R</span>
                        <span class="wave-letter">İ</span>
                        <span class="wave-letter">N</span>
                        <span class="wave-letter">İ</span>
                    </div>
                </h3>
                <div class="section-baslik-divider"></div>
            </div>
        </div>
        <div class="empty-ilan-container">
            <div class="empty-ilan-content">
                <i class="bi bi-shop display-4 mb-3" style="color: #011e5a;"></i>
                <h4 style="color: #011e5a; font-weight: 700;">İşletmenizin Görünürlüğünü Artırmak İster Misiniz?</h4>
                <p>Özbel Haber reklam vitrininde yerinizi alın. Web sitemizi ziyaret eden binlerce kişiye işletmenizi
                    tanıtın!</p>
                <div class="mt-3">
                    <a href="https://wa.me/905423538726?text=Özbel%20Haber%20reklam%20vitrini%20için%20bilgi%20almak%20istiyorum."
                        class="btn btn-success px-4 py-2"
                        style="background-color: #25D366; border: none; font-weight: 600;">
                        <i class="bi bi-whatsapp me-2"></i> İletişime Geçin
                    </a>
                    <span class="d-block mt-2" style="font-size: 0.9rem; color: #666;">
                        <i class="bi bi-telephone me-1"></i> 0542 353 8726
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Haberler Öncesi Reklam Alanı -->
{% include 'haberler/includes/ads.html' with position="middle" %}

<!-- Haber Grid -->
<div class="row" id="haberler-container">
    {% include 'haberler/includes/haber_kartlari.html' %}
</div>

<!-- Sayfalama Öncesi Reklam Alanı -->
{% include 'haberler/includes/ads.html' with position="bottom" %}

{% if haberler.has_next %}
<div class="row mt-4" id="loading-container">
    <div class="col-12 text-center">
        <div class="loading-spinner d-none">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Yükleniyor...</span>
            </div>
            <p class="mt-2 loading-text">Daha fazla haber yükleniyor...</p>
        </div>
    </div>
</div>
<div class="row mt-2">
    <div class="col-12 text-center">
        <input type="hidden" id="current-page" value="{{ haberler.number }}">
        <input type="hidden" id="has-next" value="{{ haberler.has_next|lower }}">
        <button id="load-more-btn" class="btn px-4 py-2 mt-2 mb-4" style="background-color: #011e5a; color: white;">
            <i class="bi bi-plus-circle me-2"></i> Daha Fazla Göster
        </button>
    </div>
</div>
{% endif %}
</div>

<style>
    /* Son Dakika Haber Bandı Stilleri */
    .breaking-news-container {
        background-color: #fff;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    /* Son Dakika Dikkat Çekici Konteyner */
    .son-dakika-container {
        position: relative;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(1, 30, 90, 0.15);
        animation: son-dakika-glow 3s infinite;
    }

    @keyframes son-dakika-glow {
        0% {
            box-shadow: 0 0 5px rgba(1, 30, 90, 0.5);
        }

        50% {
            box-shadow: 0 0 20px rgba(1, 30, 90, 0.8), 0 0 30px rgba(1, 30, 90, 0.6);
        }

        100% {
            box-shadow: 0 0 5px rgba(1, 30, 90, 0.5);
        }
    }

    /* Yanıp sönen çerçeve efekti */
    .alert-border {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border: 3px solid transparent;
        border-radius: 4px;
        pointer-events: none;
        animation: border-flash 3s infinite;
        z-index: 1;
    }

    @keyframes border-flash {

        0%,
        100% {
            border-color: transparent;
        }

        50% {
            border-color: rgba(1, 30, 90, 0.7);
        }
    }

    /* Son Dakika Başlık Konteyneri */
    .breaking-news-title-container {
        display: flex;
        align-items: center;
        background-color: #011e5a;
        padding: 4px 12px;
        border-radius: 4px;
        position: relative;
        overflow: hidden;
    }

    /* Yanıp sönen şimşek ikonu */
    .flash-icon {
        margin-left: 8px;
        animation: flash-pulse 1s infinite;
    }

    /* Son dakika başlığı için yanıp sönme animasyonu */
    .breaking-news-title {
        font-weight: bold;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: white;
        animation: title-pulse 1.5s infinite;
    }

    @keyframes title-pulse {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }

    @keyframes flash-pulse {

        0%,
        100% {
            opacity: 0.3;
            transform: scale(0.9);
        }

        50% {
            opacity: 1;
            transform: scale(1.2);
        }
    }

    .breaking-news-header {
        background-color: #011e5a;
        color: white;
        padding: 8px 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        position: relative;
        z-index: 2;
    }

    .current-time {
        font-size: 0.85rem;
        font-weight: 500;
    }

    .breaking-news-wrapper {
        padding: 10px 15px;
        overflow: hidden;
        position: relative;
        white-space: nowrap;
        background-color: rgba(1, 30, 90, 0.05);
    }

    .breaking-news-ticker {
        display: inline-block;
        animation: ticker 75s linear infinite;
        white-space: nowrap;
        padding-right: 50px;
        animation-play-state: running;
        will-change: transform;
        transform: translate3d(0, 0, 0);
        backface-visibility: hidden;
        perspective: 1000px;
        transform-style: preserve-3d;
        -webkit-transform-style: preserve-3d;
        -webkit-backface-visibility: hidden;
    }

    .ticker-item {
        display: inline-block;
        margin-right: 50px;
        padding: 5px 10px;
        border-radius: 4px;
        transition: background-color 0.3s ease;
    }

    .ticker-item:hover {
        background-color: rgba(1, 30, 90, 0.1);
    }

    .son-dakika-badge {
        display: inline-block;
        background-color: #011e5a;
        color: white;
        font-weight: bold;
        font-size: 0.75rem;
        padding: 2px 6px;
        border-radius: 4px;
        margin-right: 8px;
        animation: son-dakika-badge-pulse 1.5s infinite;
    }

    @keyframes son-dakika-badge-pulse {

        0%,
        100% {
            transform: scale(1);
        }

        50% {
            transform: scale(1.05);
            box-shadow: 0 0 5px rgba(1, 30, 90, 0.5);
        }
    }

    .ticker-time {
        color: #011e5a;
        font-weight: bold;
        margin-right: 10px;
        font-size: 0.9rem;
    }

    .ticker-link {
        color: #333;
        text-decoration: none;
        font-size: 1rem;
        font-weight: 500;
        transition: color 0.3s ease;
    }

    .ticker-link:hover {
        color: #011e5a;
        text-decoration: none;
    }

    @keyframes ticker {
        0% {
            transform: translate3d(0, 0, 0);
        }

        100% {
            transform: translate3d(-50%, 0, 0);
        }
    }

    .ekonomik-bilgiler {
        display: flex;
        align-items: center;
        gap: 15px;
        flex-wrap: wrap;
        margin-top: 8px;
    }

    .ekonomik-item {
        display: flex;
        align-items: center;
        gap: 5px;
        padding: 4px 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
        white-space: nowrap;
        min-width: 80px;
        justify-content: center;
    }

    /* Hava durumu için özel stil */
    #weatherInfo .ekonomik-item {
        background: none;
        padding: 0;
    }

    .currency-label {
        font-size: 0.85rem;
        font-weight: 500;
        color: rgba(255, 255, 255, 0.9);
    }

    .currency-value {
        font-size: 0.85rem;
        font-weight: 500;
        color: #fff;
    }

    .last-update-container {
        margin-left: 10px;
        padding: 5px 10px;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
    }

    .last-update-text {
        color: #fff;
        font-size: 0.85rem;
        font-weight: 500;
    }

    /* Mobil Uyumluluk Son Dakika */
    @media (max-width: 768px) {
        .breaking-news-title-container {
            padding: 3px 8px;
        }

        .flash-icon {
            margin-left: 5px;
        }

        .son-dakika-container {
            animation: son-dakika-glow-mobile 2s infinite;
        }

        @keyframes son-dakika-glow-mobile {
            0% {
                box-shadow: 0 0 3px rgba(1, 30, 90, 0.5);
            }

            50% {
                box-shadow: 0 0 10px rgba(1, 30, 90, 0.8);
            }

            100% {
                box-shadow: 0 0 3px rgba(1, 30, 90, 0.5);
            }
        }

        /* Mobil Ekonomik Bilgiler Toggle Butonu */
        .ekonomik-toggle-btn {
            background-color: rgba(1, 30, 90, 0.8);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 10px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .ekonomik-toggle-btn:hover,
        .ekonomik-toggle-btn:focus {
            background-color: rgba(1, 30, 90, 1);
            box-shadow: 0 0 8px rgba(1, 30, 90, 0.6);
        }

        /* Mobil Ekonomik Bilgiler Açılır Panel */
        .ekonomik-bilgiler-mobile {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 8px 5px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            animation: fadeIn 0.3s ease;
        }

        .ekonomik-bilgiler-mobile .ekonomik-item {
            flex: 1 0 45%;
            min-width: 0;
            margin-bottom: 5px;
            font-size: 0.8rem;
            justify-content: flex-start;
            padding: 5px 8px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    }

    /* Haber Listesi Stilleri */
    .news-list-container {
        height: 400px;
        overflow: hidden;
        position: relative;
        background-color: #f8f9fa;
        border-radius: 4px;
    }

    .news-list {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        transition: transform 0.5s ease;
    }

    .news-list-item {
        padding: 15px;
        border-bottom: 1px solid #dee2e6;
        cursor: pointer;
        transition: all 0.3s ease;
        height: 133px;
        /* 400px / 3 = ~133px */
        display: flex;
        align-items: center;
    }

    .news-list-item:hover,
    .news-list-item.active {
        background-color: #e9ecef;
    }

    .news-list-item:last-child {
        border-bottom: none;
    }

    .news-number {
        font-size: 24px;
        font-weight: bold;
        color: #011e5a;
        margin-right: 15px;
        min-width: 30px;
    }

    .news-content h6 {
        margin: 0;
        font-size: 0.9rem;
        line-height: 1.4;
    }

    /* Öne Çıkan Haber Stilleri */
    .featured-news-slider {
        position: relative;
        border-radius: 4px;
        overflow: hidden;
        height: 400px;
    }

    .featured-news-item {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.5s ease, visibility 0.5s ease;
        pointer-events: none;
        z-index: 1;
    }

    .featured-news-item.active {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
        z-index: 2;
    }

    .featured-news-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 2rem;
        background: linear-gradient(to top,
                rgba(0, 0, 0, 0.95) 0%,
                rgba(0, 0, 0, 0.8) 40%,
                rgba(0, 0, 0, 0.4) 80%,
                transparent 100%);
        color: white;
        height: 100%;
        transition: all 0.3s ease;
    }

    .featured-news-item:hover .featured-news-overlay {
        background: linear-gradient(to top,
                rgba(0, 0, 0, 0.98) 0%,
                rgba(0, 0, 0, 0.85) 40%,
                rgba(0, 0, 0, 0.5) 80%,
                rgba(0, 0, 0, 0.2) 100%);
    }

    .overlay-content {
        height: 100%;
    }

    .featured-news-title {
        font-size: 2rem;
        font-weight: 700;
        line-height: 1.3;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .featured-news-excerpt {
        font-size: 1.1rem;
        line-height: 1.6;
        opacity: 0.9;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }

    .featured-news-meta {
        font-size: 0.95rem;
        opacity: 0.9;
    }

    .featured-news-meta span {
        display: inline-flex;
        align-items: center;
    }

    .read-more-btn {
        display: inline-flex;
        align-items: center;
        color: #fff;
        font-weight: 500;
        padding: 0.5rem 1rem;
        background-color: rgba(1, 30, 90, 0.9);
        border-radius: 25px;
        transition: all 0.3s ease;
    }

    .featured-news-item:hover .read-more-btn {
        background-color: #011e5a;
        transform: translateX(10px);
    }

    /* Mobil Uyumluluk */
    @media (max-width: 768px) {
        .col-md-3 {
            margin-bottom: 20px;
        }

        .featured-news-slider {
            height: 350px;
            /* Mobilde daha küçük yükseklik */
        }

        .featured-news-overlay {
            padding: 1.5rem;
        }

        .featured-news-title {
            font-size: 1.5rem;
        }

        .featured-news-excerpt {
            font-size: 1rem;
        }

        .featured-news-meta {
            font-size: 0.85rem;
        }

        .news-list-item {
            padding: 10px;
        }

        .news-number {
            font-size: 20px;
            min-width: 25px;
        }

        .breaking-news-header {
            flex-direction: column;
            align-items: flex-start;
            padding: 8px 10px;
        }

        .ekonomik-bilgiler {
            width: 100%;
            margin-top: 8px;
            gap: 8px;
            justify-content: space-between;
        }

        .ekonomik-item {
            flex: 1;
            min-width: 45%;
            padding: 6px 8px;
            margin-bottom: 4px;
        }

        .currency-label {
            font-size: 0.8rem;
        }

        .currency-value {
            font-size: 0.8rem;
        }

        .d-flex.align-items-center {
            width: 100%;
            justify-content: space-between;
        }

        /* Mobil için slider iyileştirmeleri */
        .featured-news-item .position-relative img {
            height: 350px !important;
            /* Mobilde daha küçük resim yüksekliği */
        }

        .nav-btn {
            width: 35px;
            height: 35px;
            font-size: 1.2rem;
        }

        /* Mobilde yazı boyutu ve boşluk ayarlamaları */
        .featured-news-title {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
        }

        .featured-news-meta .d-flex {
            flex-wrap: wrap;
            gap: 10px;
        }

        .read-more-btn {
            margin-top: 5px;
            padding: 6px 12px;
        }
    }

    /* Haber Kartları Stilleri */
    .news-card {
        background: #fff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        height: 100%;
    }

    .news-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .news-image {
        height: 220px;
        overflow: hidden;
    }

    .news-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .news-card:hover .news-image img {
        transform: scale(1.05);
    }

    .news-content {
        padding: 20px;
    }

    .news-meta {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
        flex-wrap: wrap;
    }

    .news-category {
        background: linear-gradient(135deg, #011e5a, #0a3d8f);
        color: white;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 2px 5px rgba(1, 30, 90, 0.3);
        position: relative;
        overflow: hidden;
    }

    .news-category:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(1, 30, 90, 0.4);
    }

    .news-category::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: rgba(255, 255, 255, 0.1);
        transform: rotate(30deg);
        transition: transform 0.6s ease;
        pointer-events: none;
    }

    .news-category:hover::after {
        transform: rotate(30deg) translate(10%, 10%);
    }

    .news-author {
        color: #011e5a;
        font-size: 0.85rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 3px;
    }

    .news-author i {
        font-size: 0.9rem;
        color: #011e5a;
    }

    .news-date {
        color: #666;
        font-size: 0.85rem;
    }

    .news-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 10px;
        line-height: 1.3;
        color: #333;
        transition: color 0.3s ease;
    }

    .news-card:hover .news-title {
        color: #011e5a;
    }

    .news-excerpt {
        font-size: 0.95rem;
        line-height: 1.4;
        color: #666;
        margin-bottom: 15px;
    }

    .news-footer {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        border-top: 1px solid #f0f0f0;
        padding-top: 10px;
        margin-top: auto;
    }

    .news-author {
        color: #011e5a;
        font-size: 0.85rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 3px;
        background-color: rgba(1, 30, 90, 0.08);
        padding: 4px 10px;
        border-radius: 20px;
        transition: all 0.3s ease;
    }

    .news-author:hover {
        background-color: rgba(1, 30, 90, 0.15);
    }

    .news-author i {
        font-size: 0.9rem;
        color: #011e5a;
    }

    .news-stats {
        display: flex;
        align-items: center;
        gap: 15px;
        font-size: 0.9rem;
        color: #666;
    }

    .news-views,
    .news-comments {
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .news-views i,
    .news-comments i {
        font-size: 0.9rem;
        color: #999;
    }

    @media (max-width: 768px) {
        .news-image {
            height: 180px;
        }

        .news-title {
            font-size: 1.1rem;
        }
    }

    /* Manşet Haberler Slider Stilleri */
    .manset-container {
        background-color: #fff;
        padding: 25px;
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        margin-top: 20px;
        border: 1px solid #eee;
    }

    .section-baslik {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        margin-bottom: 20px;
        padding-bottom: 5px;
    }

    .section-baslik-divider {
        height: 4px;
        background: linear-gradient(to right, #011e5a, #0a3d8f, rgba(10, 61, 143, 0.3));
        width: 100%;
        margin-top: 8px;
        border-radius: 2px;
        box-shadow: 0 2px 4px rgba(1, 30, 90, 0.2);
    }

    .manset-title,
    .ilan-vitrini-title,
    .section-title {
        font-size: 1.4rem;
        font-weight: 700;
        color: #011e5a;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .manset-title i,
    .ilan-vitrini-title i,
    .section-title i {
        color: #011e5a;
    }

    /* Başlık Harfleri İçin Dalga Efekti */
    .letter-wave-text {
        display: inline-flex;
        font-weight: 700;
    }

    .wave-letter {
        display: inline-block;
        color: #011e5a;
        position: relative;
    }

    .wave-letter:nth-child(1) {
        animation-delay: 0.0s;
    }

    .wave-letter:nth-child(2) {
        animation-delay: 0.1s;
    }

    .wave-letter:nth-child(3) {
        animation-delay: 0.2s;
    }

    .wave-letter:nth-child(4) {
        animation-delay: 0.3s;
    }

    .wave-letter:nth-child(5) {
        animation-delay: 0.4s;
    }

    .wave-letter:nth-child(6) {
        animation-delay: 0.5s;
    }

    .wave-letter:nth-child(7) {
        animation-delay: 0.6s;
    }

    .wave-letter:nth-child(8) {
        animation-delay: 0.7s;
    }

    .wave-letter:nth-child(9) {
        animation-delay: 0.8s;
    }

    .wave-letter:nth-child(10) {
        animation-delay: 0.9s;
    }

    .wave-letter:nth-child(11) {
        animation-delay: 1.0s;
    }

    .wave-letter:nth-child(12) {
        animation-delay: 1.1s;
    }

    .wave-letter:nth-child(13) {
        animation-delay: 1.2s;
    }

    .wave-letter:nth-child(14) {
        animation-delay: 1.3s;
    }

    .wave-letter:nth-child(15) {
        animation-delay: 1.4s;
    }

    .wave-letter {
        animation: letter-wave 3s infinite ease-in-out;
    }

    @keyframes letter-wave {

        0%,
        100% {
            color: #011e5a;
            text-shadow: none;
            transform: translateY(0);
        }

        30% {
            color: #1e56c9;
            text-shadow: 0 0 8px rgba(1, 30, 90, 0.7);
            transform: translateY(0);
        }
    }

    .manset-slider-wrapper {
        position: relative;
        overflow: hidden;
    }

    .swiper-container {
        position: relative;
        overflow: hidden;
        padding-bottom: 40px;
        height: 500px;
    }

    .manset-card {
        background: #fff;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        height: 450px;
        transition: all 0.3s ease;
        border: 1px solid #eee;
        display: flex;
        flex-direction: column;
    }

    .manset-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    }

    .manset-link {
        text-decoration: none;
        color: inherit;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .manset-image-wrapper {
        position: relative;
        height: 280px;
        overflow: hidden;
    }

    .manset-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.6s ease;
    }

    .manset-card:hover .manset-image {
        transform: scale(1.08);
    }

    .manset-kategori-badge {
        position: absolute;
        top: 15px;
        left: 15px;
        background: rgba(255, 255, 255, 0.9);
        padding: 5px 12px;
        border-radius: 30px;
        font-size: 0.8rem;
        font-weight: 600;
        color: #333;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        z-index: 2;
    }

    .manset-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: linear-gradient(45deg, #011e5a 0%, #0a3d8f 100%);
        padding: 5px 12px;
        border-radius: 30px;
        font-size: 0.8rem;
        font-weight: 700;
        color: white;
        box-shadow: 0 2px 10px rgba(1, 30, 90, 0.3);
        z-index: 2;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(1, 30, 90, 0.5);
        }

        70% {
            box-shadow: 0 0 0 10px rgba(1, 30, 90, 0);
        }

        100% {
            box-shadow: 0 0 0 0 rgba(1, 30, 90, 0);
        }
    }

    .manset-content {
        padding: 20px;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        background: #fff;
    }

    .manset-baslik {
        font-size: 1.3rem;
        line-height: 1.4;
        margin-bottom: 12px;
        font-weight: 700;
        color: #222;
        transition: color 0.3s ease;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .manset-card:hover .manset-baslik {
        color: #011e5a;
    }

    .manset-excerpt {
        font-size: 0.95rem;
        line-height: 1.5;
        color: #666;
        margin-bottom: 15px;
        flex-grow: 1;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .manset-readmore {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        margin-top: auto;
    }

    .manset-readmore span {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        color: #fff;
        background-color: #011e5a;
        padding: 8px 16px;
        border-radius: 30px;
        font-size: 0.85rem;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .manset-readmore i {
        transition: transform 0.3s ease;
    }

    .manset-card:hover .manset-readmore span {
        background-color: #0a3d8f;
    }

    .manset-card:hover .manset-readmore i {
        transform: translateX(5px);
    }

    .swiper-pagination {
        position: absolute;
        bottom: 10px;
        left: 0;
        width: 100%;
        text-align: center;
        z-index: 10;
    }

    .swiper-pagination-bullet {
        width: 10px;
        height: 10px;
        display: inline-block;
        border-radius: 50%;
        background: #ccc;
        opacity: 0.7;
        margin: 0 5px;
        transition: all 0.3s ease;
    }

    .swiper-pagination-bullet-active {
        background: #011e5a;
        opacity: 1;
        width: 20px;
        border-radius: 5px;
    }

    .swiper-button-next,
    .swiper-button-prev {
        position: absolute;
        top: 50%;
        width: 44px;
        height: 44px;
        margin-top: -22px;
        z-index: 10;
        cursor: pointer;
        background-color: rgba(255, 255, 255, 0.8);
        color: #011e5a;
        border-radius: 50%;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }

    .swiper-button-next {
        right: 10px;
    }

    .swiper-button-prev {
        left: 10px;
    }

    .swiper-button-next:after,
    .swiper-button-prev:after {
        font-size: 18px;
        font-weight: bold;
    }

    .swiper-button-next:hover,
    .swiper-button-prev:hover {
        background-color: #011e5a;
        color: white;
    }

    /* Mobil için düzenlemeler */
    @media (max-width: 768px) {
        .manset-container {
            padding: 15px;
        }

        .swiper-container {
            height: 530px;
        }

        .manset-card {
            height: 480px;
        }

        .manset-image-wrapper {
            height: 220px;
        }

        .manset-baslik {
            font-size: 1.1rem;
        }

        .manset-excerpt {
            font-size: 1rem;
        }

        .swiper-button-next,
        .swiper-button-prev {
            width: 36px;
            height: 36px;
        }
    }

    /* Slider yön tuşları */
    .slider-controls {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        transform: translateY(-50%);
        z-index: 10;
        pointer-events: none;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
    }

    .nav-btn {
        width: 45px;
        height: 45px;
        border: none;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.9);
        color: #011e5a;
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        pointer-events: auto;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 10;
    }

    .nav-btn:hover {
        background: #011e5a;
        color: white;
        transform: scale(1.1);
    }

    .nav-btn:focus {
        outline: none;
    }

    .prev-btn {
        padding-right: 3px;
    }

    .next-btn {
        padding-left: 3px;
    }

    @media (max-width: 768px) {
        .nav-btn {
            width: 35px;
            height: 35px;
            font-size: 1.2rem;
        }
    }

    /* İlan Vitrini Stilleri */
    .ilan-vitrini-container {
        background-color: #fff;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid #eee;
        margin-bottom: 25px;
    }

    .ilan-vitrini-title {
        font-size: 1.4rem;
        font-weight: 700;
        color: #011e5a;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .ilan-vitrini-title i {
        color: #011e5a;
    }

    .ilan-slider-wrapper {
        position: relative;
        overflow: hidden;
        margin-bottom: 5px;
    }

    .swiper-container.ilan-slider {
        height: auto;
        padding-bottom: 15px;
    }

    .ilan-card {
        background: #fff;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        height: auto;
        transition: all 0.3s ease;
        border: 1px solid #eee;
        display: flex;
        flex-direction: column;
        margin: 5px;
    }

    .ilan-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    }

    .ilan-link {
        text-decoration: none;
        color: inherit;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .ilan-image-wrapper {
        width: 100%;
        height: 0;
        padding-bottom: 80%;
        /* Kare görünümü biraz düşürdük */
        position: relative;
        display: block;
        overflow: hidden;
        background-color: #f8f8f8;
    }

    .ilan-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }

    .ilan-no-logo {
        width: 60px;
        height: 60px;
        min-width: 60px;
        min-height: 60px;
        border-radius: 50%;
        background-color: #011e5a;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        font-weight: bold;
        margin: 0 auto;
    }

    .ilan-content {
        padding: 10px 15px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        border-top: 1px solid #f0f0f0;
        max-height: 150px;
        /* Daha yüksek içerik alanı */
        overflow: hidden;
    }

    .ilan-firma-adi {
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 5px;
        color: #333;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        /* Bir satır yerine iki satıra izin ver */
        -webkit-box-orient: vertical;
    }

    .ilan-faaliyet {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 8px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        /* İki satır yerine üç satıra izin ver */
        -webkit-box-orient: vertical;
    }

    .ilan-meta {
        margin-top: auto;
        font-size: 0.85rem;
        color: #777;
    }

    .ilan-adres,
    .ilan-telefon {
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 5px;
    }

    .ilan-adres i,
    .ilan-telefon i {
        color: #011e5a;
    }

    /* Boş ilan vitrini */
    .ilan-vitrini-empty {
        background-color: #fff;
        padding: 25px;
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid #eee;
    }

    .empty-ilan-container {
        padding: 40px 20px;
        text-align: center;
        border: 2px dashed #011e5a;
        border-radius: 8px;
        background-color: rgba(1, 30, 90, 0.03);
        transition: all 0.3s ease;
        animation: gentle-pulse 3s infinite;
    }

    .empty-ilan-container:hover {
        border-color: #0a3d8f;
        background-color: rgba(1, 30, 90, 0.05);
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(1, 30, 90, 0.1);
    }

    @keyframes gentle-pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(1, 30, 90, 0.2);
        }

        70% {
            box-shadow: 0 0 0 10px rgba(1, 30, 90, 0);
        }

        100% {
            box-shadow: 0 0 0 0 rgba(1, 30, 90, 0);
        }
    }

    .empty-ilan-content {
        max-width: 500px;
        margin: 0 auto;
        color: #444;
    }

    .empty-ilan-content i {
        color: #011e5a;
        animation: scale-icon 2s infinite;
    }

    @keyframes scale-icon {

        0%,
        100% {
            transform: scale(1);
        }

        50% {
            transform: scale(1.1);
        }
    }

    /* Sonsuz Kaydırma Stilleri */
    .loading-spinner {
        padding: 20px;
        text-align: center;
        color: #011e5a;
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        margin: 0 auto;
        max-width: 250px;
    }

    .spinner-border {
        width: 2.5rem;
        height: 2.5rem;
        border-width: 0.25em;
        color: #011e5a;
    }

    .loading-text {
        font-weight: 500;
        color: #011e5a;
        font-size: 0.9rem;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes loading-pulse {
        0% {
            transform: scale(1);
        }

        50% {
            transform: scale(1.05);
        }

        100% {
            transform: scale(1);
        }
    }

    .loading-spinner:not(.d-none) {
        animation: fadeIn 0.5s ease, loading-pulse 1.5s infinite ease-in-out;
    }

    /* Özel renkler */
    .bg-ozbel {
        background-color: #011e5a;
    }

    /* Son Haberler başlık çizgisi - eski, kaldırılabilir */
    .section-divider {
        height: 4px;
        background: linear-gradient(to right, #011e5a, #0a3d8f, rgba(10, 61, 143, 0.3));
        margin-top: 10px;
        border-radius: 2px;
        box-shadow: 0 2px 4px rgba(1, 30, 90, 0.2);
        display: none;
        /* Artık section-baslik-divider kullanılıyor */
    }

    /* Google Reklam Alanı Stilleri */
    .google-ad-container {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        position: relative;
        text-align: center;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        overflow: hidden;
        border: 1px solid #eaeaea;
    }

    .ad-label {
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.05);
        color: #888;
        font-size: 0.7rem;
        padding: 2px 8px;
        border-bottom-right-radius: 4px;
    }

    .google-ad-slot {
        width: 100%;
        min-height: 90px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .placeholder-ad {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: repeating-linear-gradient(45deg,
                #f8f9fa,
                #f8f9fa 10px,
                #f2f3f5 10px,
                #f2f3f5 20px);
        color: #888;
        font-size: 0.9rem;
        border: 1px dashed #ddd;
        min-height: 90px;
    }

    /* Sağ ve Sol Yapışkan Reklam Stilleri */
    .sticky-ad-left,
    .sticky-ad-right {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        width: 160px;
        height: 600px;
        z-index: 999;
        background-color: #f8f9fa;
        border-radius: 8px;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        padding: 10px;
        border: 1px solid #eaeaea;
    }

    .sticky-ad-left {
        left: 10px;
    }

    .sticky-ad-right {
        right: 10px;
    }

    .google-ad-slot-vertical {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .placeholder-ad-vertical {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: repeating-linear-gradient(45deg,
                #f8f9fa,
                #f8f9fa 10px,
                #f2f3f5 10px,
                #f2f3f5 20px);
        color: #888;
        font-size: 0.9rem;
        border: 1px dashed #ddd;
        text-align: center;
        line-height: 1.4;
    }

    @media (max-width: 768px) {
        .google-ad-slot {
            min-height: 60px;
        }

        .placeholder-ad {
            min-height: 60px;
            font-size: 0.8rem;
        }
    }

    /* Sadece büyük ekranlarda yan reklamları göster */
    @media (max-width: 1400px) {

        .sticky-ad-left,
        .sticky-ad-right {
            display: none !important;
        }
    }

    /* İlan sliderı için pagination stilleri */
    .ilan-slider .swiper-pagination {
        position: absolute;
        bottom: 0;
        margin-top: 0;
    }

    .ilan-slider .swiper-pagination-bullet {
        width: 10px;
        height: 10px;
        background-color: #ddd;
        opacity: 1;
    }

    .ilan-slider .swiper-pagination-bullet-active {
        background-color: #011e5a;
        width: 20px;
        border-radius: 5px;
    }

    /* İlan Ver Özel Stili */
    .ilan-ver-card {
        border: 2px solid #25D366;
        transform: scale(1.02);
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(37, 211, 102, 0.25);
        animation: pulse-green 2s infinite;
    }

    .ilan-ver-card:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow: 0 12px 30px rgba(37, 211, 102, 0.35);
    }

    @keyframes pulse-green {
        0% {
            box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.4);
        }

        70% {
            box-shadow: 0 0 0 10px rgba(37, 211, 102, 0);
        }

        100% {
            box-shadow: 0 0 0 0 rgba(37, 211, 102, 0);
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    // Hava durumu için API anahtarı
    const WEATHER_API_KEY = 'bb4da3d0acfe443895c175550252504';

    // Hava durumu bilgilerini güncelleme fonksiyonu
    async function updateWeatherInfo() {
        const weatherContainer = document.getElementById('weatherInfo');
        const weatherContainerMobile = document.getElementById('weatherInfoMobile');

        try {
            // Konum bilgisini al
            const position = await new Promise((resolve, reject) => {
                navigator.geolocation.getCurrentPosition(resolve, reject);
            });

            const { latitude, longitude } = position.coords;

            // WeatherAPI'den veri çek
            const response = await fetch(`https://api.weatherapi.com/v1/current.json?key=${WEATHER_API_KEY}&q=${latitude},${longitude}&lang=tr`);
            const data = await response.json();

            // Masaüstü için hava durumu bilgilerini göster
            if (weatherContainer) {
                weatherContainer.innerHTML = `
                    <div class="ekonomik-item">
                        <span class="currency-label">${data.location.name}:</span>
                        <span class="currency-value">${data.current.temp_c}°C</span>
                        <img src="${data.current.condition.icon}" alt="${data.current.condition.text}" style="width: 20px; height: 20px; margin-left: 5px;">
                    </div>
                `;
            }

            // Mobil için hava durumu bilgilerini göster
            if (weatherContainerMobile) {
                weatherContainerMobile.innerHTML = `
                    <span class="currency-label">${data.location.name}:</span>
                    <span class="currency-value">${data.current.temp_c}°C</span>
                    <img src="${data.current.condition.icon}" alt="${data.current.condition.text}" style="width: 20px; height: 20px; margin-left: 5px;">
                `;
            }
        } catch (error) {
            // Konum bilgisi kapalı veya hata durumunda
            const errorMessage = `
                <span class="currency-label">Konum:</span>
                <span class="currency-value">Kapalı</span>
            `;

            if (weatherContainer) {
                weatherContainer.innerHTML = `<div class="ekonomik-item">${errorMessage}</div>`;
            }

            if (weatherContainerMobile) {
                weatherContainerMobile.innerHTML = errorMessage;
            }
        }
    }

    // Sayfa yüklenmeden önce çalışacak kod
    (function () {
        const ticker = document.getElementById('breakingNewsTicker');
        if (ticker) {
            // Haber bandını iki kez kopyala ve ekle
            const tickerContent = ticker.innerHTML;
            ticker.innerHTML = tickerContent + tickerContent;

            // Performans için requestAnimationFrame kullan
            requestAnimationFrame(() => {
                ticker.style.animation = 'ticker 75s linear infinite';
            });

            // Mouse olaylarını ekle
            ticker.addEventListener('mouseenter', function () {
                this.style.animationPlayState = 'paused';
            });
            ticker.addEventListener('mouseleave', function () {
                this.style.animationPlayState = 'running';
            });
        }
    })();

    // Sayfa yüklendikten sonra çalışacak kod
    document.addEventListener('DOMContentLoaded', function () {
        // Telif hakkı yılını güncelle
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Saat güncelleme
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('tr-TR', {
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('currentTime').textContent = timeString;
        }
        updateTime();
        setInterval(updateTime, 1000);

        // Hava durumu bilgilerini güncelle
        updateWeatherInfo();
        // Her 30 dakikada bir hava durumunu güncelle
        setInterval(updateWeatherInfo, 30 * 60 * 1000);

        // Manşet haberler için slider
        const mansetSliderEl = document.querySelector('.manset-slider');
        if (mansetSliderEl) {
            setTimeout(() => {
                const mansetSwiper = new Swiper(mansetSliderEl, {
                    slidesPerView: 1,
                    spaceBetween: 20,
                    loop: true,
                    loopFillGroupWithBlank: true,
                    loopAdditionalSlides: 5,
                    observer: true,
                    observeParents: true,
                    autoplay: {
                        delay: 3000,
                        disableOnInteraction: false
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true
                    },
                    navigation: {
                        nextEl: '.manset-button-next',
                        prevEl: '.manset-button-prev'
                    },
                    breakpoints: {
                        640: {
                            slidesPerView: 1
                        },
                        768: {
                            slidesPerView: 2
                        },
                        1024: {
                            slidesPerView: 3
                        }
                    }
                });

                // Debug için kontrol
                console.log("Manşet swiper başlatıldı:", mansetSwiper);
                console.log("Manşet sayısı:", mansetSwiper.slides.length);
                console.log("Loop aktif mi:", mansetSwiper.params.loop);
            }, 100);
        }

        // İlan Vitrini için slider
        const ilanSliderEl = document.querySelector('.ilan-slider');
        if (ilanSliderEl) {
            setTimeout(() => {
                const ilanSwiper = new Swiper(ilanSliderEl, {
                    slidesPerView: 1,
                    spaceBetween: 20,
                    loop: true,
                    loopFillGroupWithBlank: true,
                    loopAdditionalSlides: 3,
                    observer: true,
                    observeParents: true,
                    autoplay: {
                        delay: 4000,
                        disableOnInteraction: false
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true
                    },
                    breakpoints: {
                        640: {
                            slidesPerView: 2,
                            spaceBetween: 15
                        },
                        768: {
                            slidesPerView: 3,
                            spaceBetween: 15
                        },
                        1024: {
                            slidesPerView: 4,
                            spaceBetween: 15
                        },
                        1200: {
                            slidesPerView: 5,
                            spaceBetween: 15
                        }
                    }
                });

                console.log("İlan slider başlatıldı:", ilanSwiper);
            }, 100);
        }

        // Haber listesi ve slider kontrolü
        const newsItems = document.querySelectorAll('.news-list-item');
        const featuredItems = document.querySelectorAll('.featured-news-item');
        const newsList = document.querySelector('.news-list');
        let currentIndex = 0;
        const totalItems = featuredItems.length;
        const itemHeight = 133;

        // Mobil cihaz kontrolü
        const isMobile = window.innerWidth < 768;

        function updateNewsDisplay(index) {
            // Aktif olan öğeyi güncelle
            featuredItems.forEach(item => item.classList.remove('active'));

            // Masaüstü görünümünde haber listesini de güncelle
            if (!isMobile && newsItems.length > 0 && newsList) {
                newsItems.forEach(item => item.classList.remove('active'));
                newsItems[index].classList.add('active');

                // Listeyi scroll et
                const scrollPosition = index * itemHeight;
                newsList.style.transform = `translateY(-${scrollPosition}px)`;
            }

            // Featured item'ı aktif yap
            if (featuredItems[index]) {
                featuredItems[index].classList.add('active');
            }
        }

        function autoSlide() {
            currentIndex = (currentIndex + 1) % totalItems;
            updateNewsDisplay(currentIndex);
        }

        let slideInterval = setInterval(autoSlide, 5000);

        const sliderContainer = document.querySelector('.featured-news-slider');
        const newsListContainer = document.querySelector('.news-list-container');

        // Slider container için fare olayları
        if (sliderContainer) {
            sliderContainer.addEventListener('mouseenter', () => {
                clearInterval(slideInterval);
            });

            sliderContainer.addEventListener('mouseleave', () => {
                slideInterval = setInterval(autoSlide, 5000);
            });
        }

        // Masaüstü görünümünde haber listesi için fare olayları
        if (!isMobile && newsListContainer) {
            newsListContainer.addEventListener('mouseenter', () => {
                clearInterval(slideInterval);
            });

            newsListContainer.addEventListener('mouseleave', () => {
                slideInterval = setInterval(autoSlide, 5000);
            });

            // Haber listesi öğelerine tıklama olayı (sadece masaüstünde)
            newsItems.forEach((item, index) => {
                item.addEventListener('click', function (e) {
                    if (e.target.closest('a')) {
                        // Link tıklaması ise normal davranışa izin ver
                        return;
                    }
                    // Link dışı tıklamalarda sadece slider'ı güncelle
                    e.preventDefault();
                    currentIndex = index;
                    updateNewsDisplay(currentIndex);
                });
            });
        }

        // Yön tuşları için fonksiyonlar
        window.prevSlide = function (e) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            currentIndex = (currentIndex - 1 + totalItems) % totalItems;
            updateNewsDisplay(currentIndex);
        }

        window.nextSlide = function (e) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            currentIndex = (currentIndex + 1) % totalItems;
            updateNewsDisplay(currentIndex);
        }

        // Butonlara tıklandığında habere yönlendirmeyi engelle
        const sliderControls = document.querySelector('.slider-controls');
        if (sliderControls) {
            sliderControls.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
            });
        }

        // Başlangıçta ilk haberi göster
        updateNewsDisplay(0);

        // Ekran boyutu değiştiğinde
        window.addEventListener('resize', function () {
            // Mobil/masaüstü geçişlerinde sayfayı yenile
            const newIsMobile = window.innerWidth < 768;
            if (newIsMobile !== isMobile) {
                location.reload();
            }
        });

        // Sonsuz kaydırma (infinite scroll) için kod
        let loading = false;
        let currentPage = parseInt(document.getElementById('current-page')?.value || "1");
        let hasNextPage = document.getElementById('has-next')?.value === "true";
        const loadingSpinner = document.querySelector('.loading-spinner');
        const newsContainer = document.getElementById('haberler-container');
        const loadMoreBtn = document.getElementById('load-more-btn');

        function loadMoreNews() {
            if (loading || !hasNextPage) return;

            loading = true;
            if (loadingSpinner) loadingSpinner.classList.remove('d-none');
            if (loadMoreBtn) loadMoreBtn.disabled = true;

            const nextPage = currentPage + 1;
            console.log(`Daha fazla haber yükleniyor: Sayfa ${nextPage}`);

            // Hata denemelerini 3 kez yapacak şekilde ayarla
            let retryCount = 0;
            const maxRetries = 3;

            const tryLoadNews = () => {
                fetch(`?sayfa=${nextPage}&format=json`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`Sunucu hata kodu: ${response.status}`);
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('Sunucudan gelen yanıt:', data);

                        if (data.haberHTML) {
                            try {
                                // HTML içeriğini doğrudan ekle
                                const tempContainer = document.createElement('div');
                                tempContainer.innerHTML = data.haberHTML;

                                console.log('Haber HTML içeriği:', tempContainer.innerHTML);

                                // Bütün içeriği (haberler ve çizgiler dahil) al
                                const allElements = tempContainer.children;
                                console.log(`Yeni eklenen toplam öğe sayısı: ${allElements.length}`);

                                if (allElements.length > 0) {
                                    // NodeList'i diziye dönüştür ve her bir öğeyi newsContainer'a ekle
                                    Array.from(allElements).forEach(element => {
                                        newsContainer.appendChild(element);
                                    });

                                    // Sayfa durum bilgilerini güncelle
                                    currentPage = data.current_page || nextPage;
                                    hasNextPage = data.has_next === true;

                                    // Daha fazla sayfa yoksa yükleme butonunu kaldır
                                    if (!hasNextPage && loadMoreBtn) {
                                        loadMoreBtn.style.display = 'none';
                                    }

                                    console.log(`Yeni içerik başarıyla yüklendi.`);
                                } else {
                                    console.warn('HTML içeriğinde yeni öğe bulunamadı');
                                    // tempContainer'ın içeriğini kontrol et
                                    console.log('tempContainer içeriği:', tempContainer.innerHTML);
                                    hasNextPage = false;
                                    if (loadMoreBtn) loadMoreBtn.style.display = 'none';
                                }
                            } catch (err) {
                                console.error('HTML işlerken hata:', err);
                                throw err;
                            }
                        } else {
                            console.warn('Haber HTML içeriği bulunamadı');
                            hasNextPage = false;
                            if (loadMoreBtn) loadMoreBtn.style.display = 'none';
                        }
                    })
                    .catch(error => {
                        console.error('Haberler yüklenirken hata oluştu:', error);
                        if (retryCount < maxRetries) {
                            retryCount++;
                            console.log(`Yeniden deneme ${retryCount}/${maxRetries}...`);
                            setTimeout(tryLoadNews, 1000);
                        } else {
                            console.error(`Maksimum deneme sayısına ulaşıldı (${maxRetries})`);
                            // Hata durumunda kullanıcıya bildir
                            const errorContainer = document.createElement('div');
                            errorContainer.className = 'col-12 text-center mt-3 mb-4';
                            errorContainer.innerHTML = `
                                <div class="alert alert-warning" role="alert">
                                    <i class="bi bi-exclamation-triangle me-2"></i>
                                    Daha fazla haber yüklenirken bir sorun oluştu. Lütfen daha sonra tekrar deneyin.
                                </div>
                            `;
                            newsContainer.appendChild(errorContainer);
                            hasNextPage = false;
                            if (loadMoreBtn) loadMoreBtn.style.display = 'none';
                        }
                    })
                    .finally(() => {
                        loading = false;
                        if (loadingSpinner) loadingSpinner.classList.add('d-none');
                        if (loadMoreBtn) loadMoreBtn.disabled = false;
                    });
            };

            tryLoadNews();
        }

        // Daha Fazla Göster butonuna tıklama olayını ekle
        if (loadMoreBtn) {
            loadMoreBtn.addEventListener('click', loadMoreNews);
        }

        // Debug için manuel test fonksiyonu - konsoldan çağrılabilir
        window.testLoadMore = function () {
            console.log("Manuel test: Daha fazla haber yükleniyor...");
            loadMoreNews();
        };

        // Google Adsense reklamlarını yükle (Adsense hesabınız olduğunda açın)
        function loadAdsense() {
            // Burada Adsense kodunu yükleyebilirsiniz
            console.log('Google Adsense reklamları yükleniyor...');

            /* Örnek Adsense kodu:
            (adsbygoogle = window.adsbygoogle || []).push({});
            (adsbygoogle = window.adsbygoogle || []).push({});
            (adsbygoogle = window.adsbygoogle || []).push({});
            (adsbygoogle = window.adsbygoogle || []).push({});
            (adsbygoogle = window.adsbygoogle || []).push({});
            */
        }

        // Yan reklamların scroll pozisyonunu ayarla
        function adjustStickyAds() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const headerHeight = 100; // Header yüksekliği (yaklaşık değer)
            const footerOffset = document.body.scrollHeight - window.innerHeight - scrollTop;
            const adOffset = 20; // Reklamlar ile sayfa kenarı arasındaki boşluk

            const leftAd = document.querySelector('.sticky-ad-left');
            const rightAd = document.querySelector('.sticky-ad-right');

            if (leftAd && rightAd) {
                // Scrollun belirli bir noktadan sonra başlaması
                if (scrollTop > headerHeight) {
                    const newPosition = Math.max(50, headerHeight - scrollTop + 50);

                    // Footer'a yaklaşırken durması için kontrol
                    if (footerOffset < 100) {
                        const adjustment = 100 - footerOffset;
                        leftAd.style.top = `calc(50% - ${adjustment}px)`;
                        rightAd.style.top = `calc(50% - ${adjustment}px)`;
                    } else {
                        leftAd.style.top = `${newPosition}%`;
                        rightAd.style.top = `${newPosition}%`;
                    }

                    leftAd.style.transform = 'translateY(-50%)';
                    rightAd.style.transform = 'translateY(-50%)';
                } else {
                    leftAd.style.top = '50%';
                    leftAd.style.transform = 'translateY(-50%)';
                    rightAd.style.top = '50%';
                    rightAd.style.transform = 'translateY(-50%)';
                }
            }
        }

        // Sayfa kaydırıldığında yan reklamların pozisyonunu güncelle
        window.addEventListener('scroll', adjustStickyAds);
        window.addEventListener('resize', adjustStickyAds);

        // İlk yüklendiğinde pozisyonu ayarla
        adjustStickyAds();

        // Sayfanın geri kalanı yüklendikten sonra reklamları yükle
        window.addEventListener('load', loadAdsense);
    });
</script>
{% endblock %}